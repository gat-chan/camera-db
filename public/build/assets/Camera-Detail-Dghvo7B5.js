import{g as o,o as n,b as e,m as $,u as E,p as F,i as j,k as C,t,F as M,f as m,q as U,s as P,x as T,v as Z,a as g,d as b,y as I,z as O,c as L,w as V,A as Q,n as W}from"./app-DCOHlJ8q.js";import{_ as Y}from"./Layout-XCrjbpr6.js";import{N as G,Q as H,r as J,V as K}from"./ChevronUpIcon-CUHpZ4so.js";function R(a,y){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}function X(a,y){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}const _={class:"flex items-center gap-2"},ee={class:"font-semibold"},ae={key:0},le=["type"],te={key:4,class:"flex items-center gap-1"},ne={key:1,class:"flex gap-1"},se={key:5,class:"text-gray-400 italic text-sm"},D={__name:"EditableField",props:{modelValue:[String,Number,Boolean,Date],field:{type:String,required:!0},id:{type:Number,required:!0},label:{type:String,required:!0},isAdmin:{type:Boolean,default:!1},type:{type:String,default:"text"},step:{type:[String,Number],default:1}},emits:["update:modelValue"],setup(a,{emit:y}){const v=a,x=y,r=$(!1),s=$(v.modelValue),h=E({[v.field]:s.value});F(()=>v.modelValue,d=>{s.value=d});const c=()=>{if(!v.isAdmin){alert("編集権限がありません。"),r.value=!1;return}h[v.field]=s.value,h.put(route("cameras.update",v.id),{preserveScroll:!0,onSuccess:()=>{x("update:modelValue",s.value),r.value=!1},onError:d=>{console.error(d),alert("保存に失敗しました。管理者権限を確認してください。"),r.value=!1}})},l=()=>{s.value=v.modelValue,r.value=!1};return(d,i)=>(n(),o("div",_,[e("span",ee,t(a.label)+":",1),r.value?j("",!0):(n(),o("span",ae,[a.type==="boolean"?(n(),o(M,{key:0},[m(t(a.modelValue?"Yes":"No"),1)],64)):(n(),o(M,{key:1},[m(t(a.modelValue||"不明"),1)],64))])),r.value&&(a.type==="text"||a.type==="number"||a.type==="date")?C((n(),o("input",P({key:1,type:a.type,"onUpdate:modelValue":i[0]||(i[0]=u=>s.value=u)},a.type==="number"?{step:a.step}:{},{class:"px-2 py-1 rounded text-black"}),null,16,le)),[[U,s.value]]):r.value&&a.type==="textarea"?C((n(),o("textarea",{key:2,"onUpdate:modelValue":i[1]||(i[1]=u=>s.value=u),class:"px-2 py-1 rounded text-black"},null,512)),[[T,s.value]]):r.value&&a.type==="boolean"?C((n(),o("input",{key:3,type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=u=>s.value=u),class:"w-4 h-4"},null,512)),[[Z,s.value]]):j("",!0),a.isAdmin?(n(),o("div",te,[r.value?(n(),o("div",ne,[e("button",{onClick:c,class:"text-green-500 hover:text-green-700"},[g(b(R),{class:"w-4 h-4"})]),e("button",{onClick:l,class:"text-red-500 hover:text-red-700"},[g(b(X),{class:"w-4 h-4"})])])):(n(),o("button",{key:0,onClick:i[3]||(i[3]=u=>r.value=!0),class:"p-1 rounded-full hover:bg-gray-700 transition-colors"},[...i[4]||(i[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 text-yellow-400 hover:text-yellow-300"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})],-1)])]))])):(n(),o("span",se,"管理者のみ編集可能"))]))}},oe={class:"container mx-auto p-4"},re={class:"text-3xl font-bold mb-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},de={class:"flex flex-col items-center bg-gray-900"},ue={class:"w-full h-80 md:h-[500px] flex items-center justify-center mb-4 bg-white rounded"},me=["src"],ce={key:0,class:"flex flex-row gap-2 justify-center mt-2 overflow-x-auto"},fe=["src","onClick","onError"],ve={class:"bg-gray-900 p-4 rounded-lg shadow"},be={class:"grid grid-cols-1 gap-4"},ge={key:1},ye={key:3},xe={class:"md:col-span-2"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={__name:"Camera-Detail",props:{camera:{type:Object,required:!0}},setup(a){const y=a,{props:v}=I(),x=v.auth,r=$(null),s=$([]);O(()=>{var d,i,u;const c=y.camera,l=`/img/${((d=c.manufacturer)==null?void 0:d.name_en)||"unknown"}/${((i=c.manufacturer)==null?void 0:i.name_en)||"unknown"}_${((u=c.model_number)==null?void 0:u.replace("/","_"))||"unknown"}`;s.value=Array.from({length:10},(B,p)=>`${l}_${p+1}.webp`),r.value=s.value[0]});const h=c=>{s.value[c]===r.value&&(r.value=s.value.find((l,d)=>d!==c)||null),s.value.splice(c,1)};return(c,l)=>(n(),L(Y,{class:"min-h-screen bg-black text-white"},{default:V(()=>{var d,i,u,B,p,S,N,A,q;return[e("div",oe,[e("h1",re,t(a.camera.camera_name||"不明"),1),e("div",ie,[e("div",de,[e("div",ue,[r.value?(n(),o("img",{key:0,src:r.value,alt:"カメラ画像",class:"max-w-full max-h-full object-contain rounded"},null,8,me)):j("",!0)]),s.value.length?(n(),o("div",ce,[(n(!0),o(M,null,Q(s.value,(f,w)=>(n(),o("img",{key:w,src:f,onClick:k=>r.value=f,class:W(["w-12 h-12 object-contain rounded cursor-pointer bg-white flex-shrink-0 border hover:border-blue-500",{"border-2 border-blue-500":r.value===f}]),onError:k=>h(w)},null,42,fe))),128))])):j("",!0)]),e("div",ve,[e("div",be,[e("p",null,[l[2]||(l[2]=e("span",{class:"font-semibold"},"型番:",-1)),m(" "+t(a.camera.model_number||"不明"),1)]),e("p",null,[l[3]||(l[3]=e("span",{class:"font-semibold"},"カメラタイプ:",-1)),m(" "+t(((d=a.camera.camera_type)==null?void 0:d.name_ja)||"不明"),1)]),e("p",null,[l[4]||(l[4]=e("span",{class:"font-semibold"},"レンズマウント:",-1)),m(" "+t(((i=a.camera.lens_mount)==null?void 0:i.name_ja)||"不明"),1)]),e("p",null,[l[5]||(l[5]=e("span",{class:"font-semibold"},"発売日:",-1)),m(" "+t(a.camera.release_year||"不明"),1)]),e("div",null,[(B=(u=b(x))==null?void 0:u.user)!=null&&B.is_admin?(n(),L(D,{key:0,modelValue:a.camera.price,"onUpdate:modelValue":l[0]||(l[0]=f=>a.camera.price=f),id:a.camera.id,field:"price",label:"値段","is-admin":(S=(p=b(x))==null?void 0:p.user)==null?void 0:S.is_admin},null,8,["modelValue","id","is-admin"])):(n(),o("p",ge,[l[6]||(l[6]=e("span",{class:"font-semibold"},"値段:",-1)),m(" "+t(a.camera.price||"不明"),1)])),e("p",null,[l[7]||(l[7]=e("span",{class:"font-semibold"},"有効画素数:",-1)),m(" "+t(a.camera.effective_pixels||"不明")+" 万画素",1)]),e("p",null,[l[8]||(l[8]=e("span",{class:"font-semibold"},"センサータイプ:",-1)),m(" "+t(((N=a.camera.sensor_type)==null?void 0:N.name_ja)||"不明"),1)]),e("p",null,[l[9]||(l[9]=e("span",{class:"font-semibold"},"常用ISO:",-1)),m(" "+t(a.camera.iso_standard_min||"不明")+" ~ "+t(a.camera.iso_standard_max||"不明"),1)]),e("p",null,[l[10]||(l[10]=e("span",{class:"font-semibold"},"ボディサイズ:",-1)),m(" "+t(a.camera.body_width||"不明")+" × "+t(a.camera.body_height||"不明")+" × "+t(a.camera.body_depth||"不明")+" mm ",1)]),(q=(A=b(x))==null?void 0:A.user)!=null&&q.is_admin?(n(),L(D,{key:2,modelValue:a.camera.body_total_weight_g,"onUpdate:modelValue":l[1]||(l[1]=f=>a.camera.body_total_weight_g=f),id:a.camera.id,field:"body_total_weight_g",label:"総重量","is-admin":!0},null,8,["modelValue","id"])):(n(),o("p",ye,[l[11]||(l[11]=e("span",{class:"font-semibold"},"総重量:",-1)),m(" "+t(a.camera.body_total_weight_g||"不明")+" g",1)]))])])]),e("div",xe,[g(b(G),{as:"div",class:"mb-6"},{default:V(()=>[g(b(H),{class:"flex justify-between w-full bg-gray-800 px-4 py-2 text-left font-medium rounded-lg hover:bg-gray-700"},{default:V(()=>[l[12]||(l[12]=e("span",null,"詳細情報",-1)),g(b(J),{class:"w-5 h-5 text-gray-400 ui-open:rotate-180 transform transition"})]),_:1}),g(b(K),{class:"mt-4 bg-gray-900 p-4 rounded-lg shadow"},{default:V(()=>{var f,w,k,z;return[e("div",we,[e("div",null,[l[13]||(l[13]=e("h3",{class:"font-semibold mb-2"},"静止画",-1)),e("p",null,"フォーマット: "+t(((f=a.camera.photo_format)==null?void 0:f.name_ja)||"不明"),1),e("p",null,"Lサイズ: "+t(a.camera.photo_size_l_mb||"不明")+" MB",1),e("p",null,"Mサイズ: "+t(a.camera.photo_size_m_mb||"不明")+" MB",1),e("p",null,"Sサイズ: "+t(a.camera.photo_size_s_mb||"不明")+" MB",1),e("p",null,"解像度(L): "+t(a.camera.photo_resolution_l||"不明"),1)]),e("div",null,[l[14]||(l[14]=e("h3",{class:"font-semibold mb-2"},"動画",-1)),e("p",null,"フォーマット: "+t(((w=a.camera.video_format)==null?void 0:w.name_ja)||"不明"),1),e("p",null,"コーデック: "+t(((k=a.camera.video_codec)==null?void 0:k.name_ja)||"不明"),1),e("p",null,"解像度: "+t(a.camera.video_resolution||"不明"),1),e("p",null,"音声: "+t(a.camera.audio_format||"不明"),1)]),e("div",null,[l[15]||(l[15]=e("h3",{class:"font-semibold mb-2"},"バッテリー",-1)),e("p",null,"タイプ: "+t(a.camera.battery_type||"不明"),1),e("p",null,"容量: "+t(a.camera.battery_capacity_mAh||"不明")+" mAh",1),e("p",null,"重量: "+t(a.camera.battery_weight_g||"不明")+" g",1),e("p",null,"撮影可能枚数: "+t(a.camera.shots_per_charge||"不明"),1)]),e("div",null,[l[16]||(l[16]=e("h3",{class:"font-semibold mb-2"},"インターフェイス",-1)),e("p",null,"インターフェイス: "+t(((z=a.camera.interface_model)==null?void 0:z.name_ja)||"不明"),1),e("p",null,"Bluetooth: "+t(a.camera.bluetooth||"不明"),1),e("p",null,"Wi-Fi: "+t(a.camera.wifi||"不明"),1),e("p",null,"マイク: "+t(a.camera.microphone||"不明"),1),e("p",null,"スピーカー: "+t(a.camera.speaker||"不明"),1),e("p",null,"三脚穴: "+t(a.camera.tripod_mount||"不明"),1)])])]}),_:1})]),_:1})])])])]}),_:1}))}};export{Ve as default};
